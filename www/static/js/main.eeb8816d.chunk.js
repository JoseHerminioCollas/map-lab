(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){e.exports=a(166)},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(78),c=a.n(i),s=a(61),l=a(203),d=a(204),u=a(43),m=a(139),p={mainContainer:{display:"flex",flexDirection:"column",fontFamily:"sans-serif",background:"gray",position:"absolute",top:0,left:0,right:0,bottom:0,"& .info":{position:"absolute"},"& header":{display:"flex",justifyContent:"center",background:"white"},"& header h1":{color:"gray",margin:"6px 12px"},"& header > div":{flexGrow:1},"& .map-frame":{display:"flex",width:"100%",height:"100%"},"& .openlayer":{position:"relative",width:"20%",height:"90%"},"& .gibs-map":{position:"relative",width:"80%",height:"90%"},"& .gibs-select":{overflow:"auto",background:"#fff",display:"flex",justifyContent:"space-around",alignContent:"center",flexWrap:"wrap",color:"gray"},"& .ms-Slider":{minWidth:"250px",maxWidth:"600px"},"& .leaflet-map":{width:"100%",height:"100%"},"& .google-map":{width:"100%",height:"100%"},"& .bing-map":{width:"100%"},"& .control-frame":{position:"absolute",bottom:0,overflow:"auto",background:"#fff",width:"100%",height:"10%",display:"flex",justifyContent:"space-around",flexWrap:"wrap",color:"gray"},"& .control-frame h3":{color:"black",padding:0,margin:"3px"},"& .control-frame button.ms-Button":{color:"gray",padding:0,margin:"3px"}}},g=a(114),f=a(84),b=a(115),h=a(92),y=a(11),v=function(e){var t=e.id,a=e.appService,n=e.sourceOptions,i=Object(r.useRef)(),c=Object(r.useState)(),l=Object(s.a)(c,2),d=l[0],u=l[1];return Object(r.useEffect)(function(){var e=new g.a({target:i.current,layers:[new b.a({source:new h.a(n)})],view:new f.a({projection:"EPSG:3857",center:[0,0],zoom:6})}).on("pointerdrag",function(e){var n,r=y.l(e.map.getView().getCenter());n=[r[1],r[0]],a.addCenterStatus(n,t)});a.addCenterEventListener(function(t){if(e){var a=y.d([t[1],t[0]]);e.target.getView().setCenter(a)}},t),u(e)},[]),Object(r.useEffect)(function(){if(d){var e=new h.a(n);d.target.getLayers().getArray()[0].setSource(e)}},[n]),o.a.createElement("div",{ref:i,className:"gibs-map",tabIndex:-1})},S=a(138),w=a(141),E=function(e){var t=e.id,a=e.appService,n=Object(r.useRef)();return Object(r.useEffect)(function(){var e=new S.a({source:new w.a}),r=new h.a({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",attributions:["\xa9 OpenStreetMap -Mitwirkende, SRTM | Affichage de la carte: \xa9 OpenTopoMap (CC-BY-SA)"]}),o=new g.a({target:n.current,layers:[new b.a({source:r}),e],view:new f.a({projection:"EPSG:3857",center:[0,0],zoom:6})}).on("pointerdrag",function(e){var n,r=y.l(e.map.getView().getCenter());n=[r[1],r[0]],a.addCenterStatus(n,t)});a.addCenterEventListener(function(e){if(o){var t=y.d([e[1],e[0]]);o.target.getView().setCenter(t)}},t)},[]),o.a.createElement("div",{ref:n,className:"openlayer",tabIndex:-1})},x=a(8),C=a(207),O=a(213),M=Object(x.p)(),j=Object(x.r)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",fontSize:"1.4em",padding:"1em"},header:[M.fonts.xLargePlus,{flex:"1 1 auto",display:"flex",alignItems:"center",padding:0}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}}}),k={root:{color:M.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:M.palette.neutralDark}},L={iconName:"Cancel"},P=function(e){var t=e.setIsModalOpen,a=e.isModalOpen;return o.a.createElement(C.a,{isOpen:a,onDismiss:function(){return t(!1)},isBlocking:!1,containerClassName:j.container,dragOptions:!1},o.a.createElement("div",{className:j.header},o.a.createElement(O.a,{styles:k,iconProps:L,ariaLabel:"Close popup modal",onClick:function(){return t(!1)}})),o.a.createElement("h2",null,"ViewGibs"),o.a.createElement("p",null,"A tool for viewing the Global Imagery Browse Services (GIBS)."),o.a.createElement("a",{href:"https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230"},"GIBS"),o.a.createElement("p",null,"Designed and developed by \xa0",o.a.createElement("a",{href:"https://goatstone.com",target:"new"},"Goatstone"),"\xa0 2021 \xa9"))},D=a(140),I=a(202),R=[26.96350124534564,-111.59884370576512],G=function(){var e=new D.a,t=new I.a({center:R,id:0}),a=new I.a({zoom:10,id:0});return{addMessageEventListener:function(t,a){var n=[function(e){t(e.message)},console.log,function(){console.log("Completed: ",a)}];e.subscribe.apply(e,n)},addMessage:function(t,a){e.next({message:t,id:a})},addCenterEventListener:function(e,a){t.subscribe(function(t){t.id!==a&&e(t.center)},console.log,function(){console.log("Completed: ",a)})},addCenterStatus:function(e,a){t.next({center:e,id:a})},addZoomEventListener:function(e,t){a.subscribe(function(a){(function(e,t){return e!==t})(t,a.id)&&e(a.zoom)})},addZoom:function(e,t){return a.next({zoom:e,id:t})}}},T=function(e,t){return{url:"\nhttps://gibs-{a-c}.earthdata.nasa.gov/wmts/epsg3857/best/\n".concat(t,"/default/\n").concat(e,"/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg"),attributions:['Global Imagery Browse Services <a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230" >(GIBS)</a>']}},N={multibandImagery:[{description:"Corrected Reflectance (True Color)",imageLayer:"MODIS_Terra_CorrectedReflectance_TrueColor",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance ",imageLayer:"VIIRS_SNPP_CorrectedReflectance_TrueColor",dateRange:["2020-04-25","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 3-6-7) ",imageLayer:"MODIS_Terra_CorrectedReflectance_Bands367",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 7-2-1) ",imageLayer:"MODIS_Aqua_CorrectedReflectance_Bands721",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 7-2-1) ",imageLayer:"MODIS_Terra_CorrectedReflectance_Bands367",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"}]},_={key:"info",text:"Info",ariaLabel:"Info",iconOnly:!0,iconProps:{iconName:"Info"}},A=function(e,t){Object.assign(e,{onClick:function(){return t(!0)}})},B=a(210),V=a(208),F=a(24),z=a(206),J=a(15),W=a(196),Y={months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["S","M","T","W","T","F","S"],goToToday:"Go to today",weekNumberFormatString:"Week number {0}",prevMonthAriaLabel:"Previous month",nextMonthAriaLabel:"Next month",prevYearAriaLabel:"Previous year",nextYearAriaLabel:"Next year",prevYearRangeAriaLabel:"Previous year range",nextYearRangeAriaLabel:"Next year range",closeButtonAriaLabel:"Close",monthPickerHeaderAriaLabel:"{0}, select to change the year",yearPickerHeaderAriaLabel:"{0}, select to change the month"},H=function(e){var t=Object(r.useState)(!1),a=Object(s.a)(t,2),i=a[0],c=a[1],l=Object(r.useState)(),d=Object(s.a)(l,2),u=d[0],m=d[1],p=e.onDateSelect,g=e.showMonthPickerAsOverlay,f=void 0!==g&&g,b=e.isDayPickerVisible,h=void 0===b||b,y=e.isMonthPickerVisible,v=void 0===y||y,S=e.showGoToToday,w=void 0===S||S,E=e.buttonString,x=void 0===E?"Click for Calendar":E,C=e.highlightCurrentMonth,O=e.highlightSelectedMonth;return o.a.createElement("div",null,o.a.createElement("div",{ref:function(e){e&&(n=e)}},o.a.createElement(B.a,{onClick:function(){return c(!0)},text:u?u.toLocaleDateString():x})),i&&o.a.createElement(V.a,{isBeakVisible:!1,className:"ms-DatePicker-callout",gapSpace:0,doNotLayer:!1,target:n,directionalHint:F.a.bottomLeftEdge,onDismiss:function(){return c(!1)},setInitialFocus:!0},o.a.createElement(W.a,{firstFocusableSelector:"ms-DatePicker-day--today",isClickableOutsideFocusTrap:!0},o.a.createElement(z.a,{onSelectDate:function(e){c(!1),m(e),p(e.toISOString().slice(0,10))},onDismiss:function(){return c(!1)},isMonthPickerVisible:v,value:u,firstDayOfWeek:J.b.Sunday,strings:Y,isDayPickerVisible:h,highlightCurrentMonth:C,highlightSelectedMonth:O,showMonthPickerAsOverlay:f,showGoToToday:w,maxDate:new Date,minDate:new Date(2003,0,1)}))))},U=function(e,t){var a=[];return e.multibandImagery.forEach(function(e){var n={key:e.imageLayer,text:e.description,onClick:function(){return t(e)}};a.push(n)}),{key:"gibs-products",text:"Gibs Products",iconProps:{iconName:"ProductList"},subMenuProps:{items:a}}},Z=function(e){var t=e.products,a=e.onProductSelect;return o.a.createElement("section",{className:"gibs-product-select"},o.a.createElement(d.a,{items:[U(t,a)]}))},q=(a(165),function(e){var t=e.product,a=e.date;return o.a.createElement("section",{className:"gibs-product-info"},o.a.createElement("h5",null,t.description),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("span",null,"Date"),a),o.a.createElement("li",null,o.a.createElement("span",null,"Date Range"),t.dateRange)))});Object(l.a)(),u.c.setup(Object(m.a)());var K=u.c.createStyleSheet(p);K.attach();var Q=G();var X=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1];A(_,n);var i=N.multibandImagery[0],c=Object(r.useState)(i),l=Object(s.a)(c,2),u=l[0],m=l[1],p=Object(r.useState)(i.dateRange[0]),g=Object(s.a)(p,2),f=g[0],b=g[1],h=Object(r.useState)(T(f,i.imageLayer)),y=Object(s.a)(h,2),S=y[0],w=y[1];return Object(r.useEffect)(function(){w(T(f,u.imageLayer))},[u,f]),o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:K.classes.mainContainer},o.a.createElement("div",{className:"map-frame"},o.a.createElement(v,{id:10,sourceOptions:S,appService:Q}),o.a.createElement(E,{id:90,appService:Q})),o.a.createElement("div",{className:"control-frame"},o.a.createElement("h3",null,"ViewGibs"),o.a.createElement(q,{product:u,date:f}),o.a.createElement(Z,{products:N,onProductSelect:function(e){m(e)}}),o.a.createElement(H,{onDateSelect:function(e){b(e)}}),o.a.createElement(P,{setIsModalOpen:n,isModalOpen:a}),o.a.createElement(d.a,{items:[_],ariaLabel:"Use left and right arrow keys to navigate between commands"}))))};c.a.render(o.a.createElement(X,null),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.eeb8816d.chunk.js.map
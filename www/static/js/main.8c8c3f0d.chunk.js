(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(147)},147:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(68),i=a.n(o),c=a(43),s=a(178),l=a(179),d=a(32),u=a(119),m={mainContainer:{display:"flex",flexDirection:"column",fontFamily:"sans-serif",background:"gray",position:"absolute",top:0,left:0,right:0,bottom:0,"& .info":{position:"absolute"},"& header":{display:"flex",justifyContent:"center",background:"white"},"& header h1":{color:"gray",margin:"6px 12px"},"& header > div":{flexGrow:1},"& .map-frame":{display:"flex",width:"100%",height:"100%"},"& .openlayer":{position:"absolute",width:"100%",height:"90%"},"& .gibs-select":{overflow:"auto",background:"#fff",display:"flex",justifyContent:"space-around",alignContent:"center",flexWrap:"wrap",color:"gray"},"& .ms-Slider":{minWidth:"250px",maxWidth:"600px"},"& .leaflet-map":{width:"100%",height:"100%"},"& .google-map":{width:"100%",height:"100%"},"& .bing-map":{width:"100%"},"& .control-frame":{position:"absolute",bottom:0,overflow:"auto",background:"#fff",width:"100%",height:"10%",display:"flex",justifyContent:"space-around",alignContent:"center",flexWrap:"wrap",color:"gray"}}},p=a(183),f=function(e,t){return{url:"\nhttps://gibs-{a-c}.earthdata.nasa.gov/wmts/epsg3857/best/\n".concat(t,"/default/\n").concat(e,"/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg"),attributions:['Global Imagery Browse Services <a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230" >(GIBS)</a>']}},g={multibandImagery:[{description:"Corrected Reflectance (True Color)",imageLayer:"MODIS_Terra_CorrectedReflectance_TrueColor",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance ",imageLayer:"VIIRS_SNPP_CorrectedReflectance_TrueColor",dateRange:["2020-04-25","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 3-6-7) ",imageLayer:"MODIS_Terra_CorrectedReflectance_Bands367",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 7-2-1) ",imageLayer:"MODIS_Aqua_CorrectedReflectance_Bands721",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},{description:"Corrected Reflectance (Bands 7-2-1) ",imageLayer:"MODIS_Terra_CorrectedReflectance_Bands367",dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"}]},b=function(e){var t=[];return g.multibandImagery.forEach(function(a){var n={key:a.imageLayer,text:a.description,onClick:function(){return e(a.imageLayer)}};t.push(n)}),{key:"gibs-products",text:"Gibs Products",iconProps:{iconName:"ProductList"},subMenuProps:{items:t}}},h=function(e){var t=e.selectGibsProduct,a=Object(n.useState)(1),o=Object(c.a)(a,2),i=o[0],s=o[1],d=Object(n.useState)(7),u=Object(c.a)(d,2),m=u[0],f=u[1],g=Object(n.useState)(2005),h=Object(c.a)(g,2),w=h[0],y=h[1],v=Object(n.useState)("MODIS_Terra_CorrectedReflectance_TrueColor"),S=Object(c.a)(v,2),x=S[0],O=S[1];return Object(n.useEffect)(function(){var e={description:"Corrected Reflectance (Bands 3-6-7) ",imageLayer:x,dateRange:["2003-01-01","present"],tileMatrixSets:["EPSG4326_250m"],format:"jpg"},a=new Date(w,m-1,i),n="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0"));t(e,n)},[w,m,i,x]),r.a.createElement("section",{className:"gibs-select"},r.a.createElement("h3",null,"ViewGibs"),r.a.createElement(l.a,{items:[b(O)]}),r.a.createElement(p.a,{label:"Day",min:1,max:30,value:i,showValue:!0,onChange:function(e){return s(e)}}),r.a.createElement(p.a,{label:"Month",min:1,max:12,value:m,showValue:!0,onChange:function(e){return f(e)}}),r.a.createElement(p.a,{label:"Year",min:2003,max:2020,value:w,showValue:!0,onChange:function(e){return y(e)}}))},w=a(118),y=a(92),v=a(121),S=a(104),x=a(9),O=function(e){var t=e.id,a=e.appService,o=e.sourceOptions,i=Object(n.useRef)(),s=Object(n.useState)(),l=Object(c.a)(s,2),d=l[0],u=l[1];return Object(n.useEffect)(function(){var e=new w.a({target:i.current,layers:[new v.a({source:new S.a(o)})],view:new y.a({projection:"EPSG:4326",center:[0,0],zoom:0})}).on("pointerdrag",function(e){var n,r=x.k(e.map.getView().getCenter());n=[r[1],r[0]],a.addCenterStatus(n,t)});a.addCenterEventListener(function(t){if(d){var a=x.d([t[1],t[0]]);e.target.getView().setCenter(a)}},t),u(e)},[]),Object(n.useEffect)(function(){if(d){var e=new S.a(o);d.target.getLayers().getArray()[0].setSource(e)}},[o]),r.a.createElement("div",{ref:i,className:"openlayer"})},C=a(4),E=a(181),j=a(188),I=Object(C.p)(),_=Object(C.r)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch",fontSize:"1.4em",padding:"1em"},header:[I.fonts.xLargePlus,{flex:"1 1 auto",display:"flex",alignItems:"center",padding:0}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}}}),L={root:{color:I.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:I.palette.neutralDark}},R={iconName:"Cancel"},M=function(e){var t=e.setIsModalOpen,a=e.isModalOpen;return r.a.createElement(E.a,{isOpen:a,onDismiss:function(){return t(!1)},isBlocking:!1,containerClassName:_.container,dragOptions:!1},r.a.createElement("div",{className:_.header},r.a.createElement(j.a,{styles:L,iconProps:R,ariaLabel:"Close popup modal",onClick:function(){return t(!1)}})),r.a.createElement("h2",null,"ViewGibs"),r.a.createElement("p",null,"A tool for viewing the Global Imagery Browse Services (GIBS)."),r.a.createElement("a",{href:"https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230"},"GIBS"),r.a.createElement("p",null,"Designed and developed by \xa0",r.a.createElement("a",{href:"https://goatstone.com",target:"new"},"Goatstone"),"\xa0 2021 \xa9"))},G=a(120),P=a(177),k=[47.6,-122.3],B=function(){var e=new G.a,t=new P.a({center:k,id:0}),a=new P.a({zoom:10,id:0});return{addMessageEventListener:function(t,a){var n=[function(e){t(e.message)},console.log,function(){console.log("Completed: ",a)}];e.subscribe.apply(e,n)},addMessage:function(t,a){e.next({message:t,id:a})},addCenterEventListener:function(e,a){t.subscribe(function(t){t.id!==a&&e(t.center)},console.log,function(){console.log("Completed: ",a)})},addCenterStatus:function(e,a){t.next({center:e,id:a})},addZoomEventListener:function(e,t){a.subscribe(function(a){(function(e,t){return e!==t})(t,a.id)&&e(a.zoom)})},addZoom:function(e,t){return a.next({zoom:e,id:t})}}},D={key:"info",text:"Info",ariaLabel:"Info",iconOnly:!0,iconProps:{iconName:"Info"}},N=function(e,t){Object.assign(e,{onClick:function(){return t(!0)}})};Object(s.a)(),d.c.setup(Object(u.a)());var T=d.c.createStyleSheet(m);T.attach();var V=B();var z=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1];N(D,o);var i=g.multibandImagery[0],s=Object(n.useState)(i),d=Object(c.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)(i.dateRange[0]),b=Object(c.a)(p,2),w=b[0],y=b[1],v=Object(n.useState)(f(w,i.imageLayer)),S=Object(c.a)(v,2),x=S[0],C=S[1];return Object(n.useEffect)(function(){C(f(w,u.imageLayer))},[u,w]),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:T.classes.mainContainer},r.a.createElement(O,{id:10,sourceOptions:x,appService:V}),r.a.createElement("div",{className:"control-frame"},r.a.createElement(M,{setIsModalOpen:o,isModalOpen:a}),r.a.createElement(h,{selectGibsProduct:function(e,t){y(t),m(e)}}),r.a.createElement(l.a,{items:[D],ariaLabel:"Use left and right arrow keys to navigate between commands"}))))};i.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.8c8c3f0d.chunk.js.map
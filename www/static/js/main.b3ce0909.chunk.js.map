{"version":3,"sources":["components/DatePicker/index.tsx","style/main-style.ts","components/GibsMap/index.tsx","components/InfoModal/index.js","app-service.ts","components/Gibs/index.ts","command-items/info.js","command-items/info-with-action.js","components/GibsProductSelect/index.tsx","components/GibsProductInfo/index.tsx","components/App.tsx","index.tsx"],"names":["calendarButtonElement","style","mainContainer","display","flexDirection","fontFamily","background","position","top","left","right","bottom","& .info","& header","justifyContent","& header h1","color","margin","& header > div","flexGrow","& .map-frame","width","height","& .openlayer","& .gibs-select","overflow","alignContent","flexWrap","& .ms-Slider","minWidth","maxWidth","& .leaflet-map","& .google-map","& .bing-map","& .control-frame","& .control-frame h3","padding","& .control-frame button.ms-Button","GibsMap","_ref","id","appService","sourceOptions","mapElement","useRef","_useState","useState","_useState2","Object","slicedToArray","map","setMap","useEffect","OLMap","Map","target","current","layers","TileLayer","source","XYZ","view","View","projection","center","zoom","on","e","latLong","olProj","getView","getCenter","addCenterStatus","addCenterEventListener","lLConverted","setCenter","getLayers","getArray","setSource","react_default","a","createElement","ref","className","theme","getTheme","contentStyles","mergeStyleSets","container","flexFlow","alignItems","fontSize","header","fonts","xLargePlus","flex","body","overflowY","selectors","p","p:first-child","marginTop","p:last-child","marginBottom","iconButtonStyles","root","palette","neutralPrimary","marginLeft","marginRight","rootHovered","neutralDark","cancelIcon","iconName","InfoModal","setIsModalOpen","isModalOpen","Modal","isOpen","onDismiss","isBlocking","containerClassName","dragOptions","IconButton","styles","iconProps","ariaLabel","onClick","href","initCenter","AppService","messages$","Subject","centers$","BehaviorSubject","zooms$","addMessageEventListener","listener","subArgs","message","console","log","subscribe","apply","addMessage","next","addZoomEventListener","idB","isValid","addZoom","getOLSourceOptions","date","gibsProduct","url","concat","attributions","gibsProducts","multibandImagery","description","imageLayer","dateRange","tileMatrixSets","format","info","key","text","iconOnly","infoWithAction","infoCommandItem","assign","DayPickerStrings","months","shortMonths","days","shortDays","goToToday","weekNumberFormatString","prevMonthAriaLabel","nextMonthAriaLabel","prevYearAriaLabel","nextYearAriaLabel","prevYearRangeAriaLabel","nextYearRangeAriaLabel","closeButtonAriaLabel","monthPickerHeaderAriaLabel","yearPickerHeaderAriaLabel","CalendarButtonExample","props","showCalendar","setShowCalendar","_useState3","_useState4","selectedDate","setSelectedDate","onDateSelect","_props$showMonthPicke","showMonthPickerAsOverlay","_props$isDayPickerVis","isDayPickerVisible","_props$isMonthPickerV","isMonthPickerVisible","_props$showGoToToday","showGoToToday","_props$buttonString","buttonString","highlightCurrentMonth","highlightSelectedMonth","calendarBtn","DefaultButton","toLocaleDateString","Callout","isBeakVisible","gapSpace","doNotLayer","directionalHint","DirectionalHint","bottomLeftEdge","setInitialFocus","FocusTrapZone","firstFocusableSelector","isClickableOutsideFocusTrap","Calendar","onSelectDate","toISOString","slice","value","firstDayOfWeek","DayOfWeek","Sunday","strings","maxDate","Date","minDate","productSelect","products","onProductSelect","items","forEach","product","item","push","subMenuProps","GibsProductSelect","CommandBar","GibsProductInfo","initializeIcons","jss","setup","preset","sheet","createStyleSheet","attach","applicationService","App","intiGibsProduct","setGibsProduct","_useState5","_useState6","gibsDate","setGibsDate","_useState7","_useState8","setSourceOptions","Fragment","classes","components_GibsMap","src_components_GibsProductInfo","components_GibsProductSelect","DatePicker_CalendarButtonExample","components_InfoModal","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.b3ce0909.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { DefaultButton } from '@fluentui/react/lib/Button'\nimport { Callout, DirectionalHint } from '@fluentui/react/lib/Callout'\nimport { Calendar, DayOfWeek } from '@fluentui/react/lib/Calendar'\nimport { FocusTrapZone } from '@fluentui/react/lib/FocusTrapZone'\n\nconst DayPickerStrings = {\n  months: [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ],\n  shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  shortDays: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  goToToday: 'Go to today',\n  weekNumberFormatString: 'Week number {0}',\n  prevMonthAriaLabel: 'Previous month',\n  nextMonthAriaLabel: 'Next month',\n  prevYearAriaLabel: 'Previous year',\n  nextYearAriaLabel: 'Next year',\n  prevYearRangeAriaLabel: 'Previous year range',\n  nextYearRangeAriaLabel: 'Next year range',\n  closeButtonAriaLabel: 'Close',\n  monthPickerHeaderAriaLabel: '{0}, select to change the year',\n  yearPickerHeaderAriaLabel: '{0}, select to change the month',\n}\n\nexport interface ICalendarButtonExampleProps {\n  onDateSelect: (date: string) => void;\n  isDayPickerVisible?: boolean;\n  isMonthPickerVisible?: boolean;\n  highlightCurrentMonth?: boolean;\n  highlightSelectedMonth?: boolean;\n  buttonString?: string;\n  showMonthPickerAsOverlay?: boolean;\n  showGoToToday?: boolean;\n}\n\nlet calendarButtonElement: HTMLElement\n\nexport const CalendarButtonExample: React.FunctionComponent<ICalendarButtonExampleProps> = (\n  props: ICalendarButtonExampleProps,\n) => {\n  const [showCalendar, setShowCalendar] = useState<boolean>(false)\n  const [selectedDate, setSelectedDate] = useState<Date>()\n\n  const {\n    onDateSelect,\n    showMonthPickerAsOverlay = false,\n    isDayPickerVisible = true,\n    isMonthPickerVisible = true,\n    showGoToToday = true,\n    buttonString = 'Click for Calendar',\n    highlightCurrentMonth,\n    highlightSelectedMonth,\n  } = props\n  const onUserDateSelect = (date: Date): void => {\n    setShowCalendar(false)\n    setSelectedDate(date)\n    onDateSelect(date.toISOString().slice(0, 10))\n  }\n\n  return (\n    <div>\n      <div ref={calendarBtn => {\n        if (calendarBtn) calendarButtonElement = calendarBtn\n      }}\n      >\n        <DefaultButton\n          onClick={() => setShowCalendar(true)}\n          text={!selectedDate ? buttonString : selectedDate.toLocaleDateString()}\n        />\n      </div>\n      {showCalendar && (\n        <Callout\n          isBeakVisible={false}\n          className=\"ms-DatePicker-callout\"\n          gapSpace={0}\n          doNotLayer={false}\n          target={calendarButtonElement}\n          directionalHint={DirectionalHint.bottomLeftEdge}\n          onDismiss={() => setShowCalendar(false)}\n          setInitialFocus\n        >\n          <FocusTrapZone firstFocusableSelector=\"ms-DatePicker-day--today\" isClickableOutsideFocusTrap>\n            <Calendar\n              onSelectDate={onUserDateSelect}\n              onDismiss={() => setShowCalendar(false)}\n              isMonthPickerVisible={isMonthPickerVisible}\n              value={selectedDate!}\n              firstDayOfWeek={DayOfWeek.Sunday}\n              strings={DayPickerStrings}\n              isDayPickerVisible={isDayPickerVisible}\n              highlightCurrentMonth={highlightCurrentMonth}\n              highlightSelectedMonth={highlightSelectedMonth}\n              showMonthPickerAsOverlay={showMonthPickerAsOverlay}\n              showGoToToday={showGoToToday}\n              maxDate={new Date()}\n              minDate={new Date(2003, 0, 1)}\n            />\n          </FocusTrapZone>\n        </Callout>\n      )}\n    </div>\n  )\n}\n","const style: any = {\n  mainContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    fontFamily: 'sans-serif',\n    background: 'gray',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    '& .info': {\n      position: 'absolute',\n    },\n    '& header': {\n      display: 'flex',\n      justifyContent: 'center',\n      background: 'white',\n    },\n    '& header h1': {\n      color: 'gray',\n      margin: '6px 12px',\n    },\n    '& header > div': {\n      flexGrow: 1,\n    },\n    '& .map-frame': {\n      display: 'flex',\n      width: '100%',\n      height: '100%',\n    },\n    '& .openlayer': {\n      position: 'absolute',\n      width: '100%',\n      height: '90%',\n\n    },\n    '& .gibs-select': {\n      overflow: 'auto',\n      background: '#fff',\n      display: 'flex',\n      justifyContent: 'space-around',\n      alignContent: 'center',\n      flexWrap: 'wrap',\n      color: 'gray',\n    },\n    '& .ms-Slider': {\n      minWidth: '250px',\n      maxWidth: '600px',\n    },\n    '& .leaflet-map': {\n      width: '100%',\n      height: '100%',\n    },\n    '& .google-map': {\n      width: '100%',\n      height: '100%',\n    },\n    '& .bing-map': {\n      width: '100%',\n    },\n    '& .control-frame': {\n      position: 'absolute',\n      bottom: 0,\n      overflow: 'auto',\n      background: '#fff',\n      width: '100%',\n      height: '10%',\n      display: 'flex',\n      justifyContent: 'space-around',\n      flexWrap: 'wrap',\n      color: 'gray',\n    },\n    '& .control-frame h3': {\n      color: 'black',\n      padding: 0,\n      margin: '3px',\n    },\n    '& .control-frame button.ms-Button': {\n      color: 'gray',\n      padding: 0,\n      margin: '3px',\n    },\n  },\n}\nexport default style\n","import React, { useEffect, useRef, useState } from 'react'\nimport Map from 'ol/Map'\nimport View from 'ol/View'\nimport TileLayer from 'ol/layer/Tile'\nimport XYZ from 'ol/source/XYZ'\nimport * as olProj from 'ol/proj'\nimport { AppServiceInstanceI } from '../../app-service'\n\nconst GibsMap: GibsNasa.GibsMap = ({\n  id,\n  appService,\n  sourceOptions,\n}: {\n  id: number, appService: AppServiceInstanceI, sourceOptions: any\n}) => {\n  const mapElement: any = useRef()\n  const addCenter = (center: any) => {\n    appService.addCenterStatus(center, id)\n  }\n  const [map, setMap]: any = useState()\n  useEffect(() => {\n    const OLMap: any = new Map({\n      target: mapElement.current,\n      layers: [\n        new TileLayer({\n          source: new XYZ(sourceOptions),\n        }),\n      ],\n      view: new View({\n        projection: 'EPSG:4326', // EPSG:3857 EPSG4326_250m\n        center: [0, 0],\n        zoom: 0,\n      }),\n    }).on('pointerdrag', (e: any) => {\n      const latLong = olProj.toLonLat(e.map.getView().getCenter())\n      addCenter([latLong[1], latLong[0]])\n    })\n    // get the latest center value and update\n    appService.addCenterEventListener(center => {\n      if (map) {\n        const lLConverted = olProj.fromLonLat([center[1], center[0]])\n        OLMap.target.getView().setCenter(lLConverted)\n      }\n    }, id)\n    setMap(OLMap)\n  }, [])\n  useEffect(() => {\n    if (map) {\n      const source = new XYZ(sourceOptions)\n      const ls = map.target.getLayers().getArray()\n      ls[0].setSource(source)\n    }\n  }, [sourceOptions])\n\n  return (\n    <div ref={mapElement} className=\"openlayer\" />\n  )\n}\n\nexport default GibsMap\n","import {\n  IconButton,\n  Modal,\n  mergeStyleSets,\n  getTheme,\n} from '@fluentui/react'\nimport React from 'react'\n\nconst theme = getTheme()\nconst contentStyles = mergeStyleSets({\n  container: {\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    alignItems: 'stretch',\n    fontSize: '1.4em',\n    padding: '1em',\n  },\n  header: [\n    theme.fonts.xLargePlus,\n    {\n      flex: '1 1 auto',\n      display: 'flex',\n      alignItems: 'center',\n      padding: 0,\n    },\n  ],\n  body: {\n    flex: '4 4 auto',\n    padding: '0 24px 24px 24px',\n    overflowY: 'hidden',\n    selectors: {\n      p: { margin: '14px 0' },\n      'p:first-child': { marginTop: 0 },\n      'p:last-child': { marginBottom: 0 },\n    },\n  },\n})\nconst iconButtonStyles = {\n  root: {\n    color: theme.palette.neutralPrimary,\n    marginLeft: 'auto',\n    marginTop: '4px',\n    marginRight: '2px',\n  },\n  rootHovered: {\n    color: theme.palette.neutralDark,\n  },\n}\nconst cancelIcon = { iconName: 'Cancel' }\n\nconst InfoModal = ({ setIsModalOpen, isModalOpen }) => (\n  <Modal\n    // titleAriaId={titleId}\n    isOpen={isModalOpen}\n    onDismiss={() => setIsModalOpen(false)}\n    isBlocking={false}\n    containerClassName={contentStyles.container}\n    dragOptions={false}\n  >\n    <div className={contentStyles.header}>\n      <IconButton\n        styles={iconButtonStyles}\n        iconProps={cancelIcon}\n        ariaLabel=\"Close popup modal\"\n        onClick={() => setIsModalOpen(false)}\n      />\n    </div>\n    <h2>ViewGibs</h2>\n    <p>\n      A tool for viewing the Global Imagery Browse Services (GIBS).\n    </p>\n    <a href=\"https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230\">GIBS</a>\n    <p>\n      Designed and developed by\n      &nbsp;\n      <a href=\"https://goatstone.com\" target=\"new\">Goatstone</a>\n      &nbsp;\n      2021 &copy;\n    </p>\n  </Modal>\n)\n\nexport default InfoModal\n","import { Subject, BehaviorSubject } from 'rxjs'\n\nexport interface Message {\n  message: string;\n  id: number | null;\n}\ninterface AddMessageEventListener {\n  (listener: (message: string) => void, id: number): void;\n}\ninterface AddMessage {\n  (message: string, id: number | null): void;\n}\nexport interface AppServiceI {\n  (): {\n    addMessageEventListener: AddMessageEventListener;\n    addMessage: AddMessage;\n    addCenterEventListener: AddCenterEventListener;\n    addCenterStatus: AddCenterStatus;\n    addZoomEventListener: AddZoomEventListener;\n    addZoom: AddZoom;\n  }\n}\nexport interface AppServiceInstanceI {\n  addMessageEventListener: AddMessageEventListener;\n  addMessage: AddMessage;\n  addCenterEventListener: AddCenterEventListener;\n  addCenterStatus: AddCenterStatus;\n  addZoomEventListener: AddZoomEventListener;\n  addZoom: AddZoom;\n}\ninterface AddCenterEventListener {\n  (listener: (center: number[]) => void, id: number): void\n}\nexport interface Center {\n  center: number[]\n  id: number\n}\ninterface AddCenterStatus {\n  (center: number[], id: number): void\n}\ninterface Zoom {\n  zoom: number\n  id: number\n}\ninterface AddZoomEventListener {\n  (listener: (zoom: number) => void, id: number): void\n}\ninterface AddZoom {\n  (zoom: number, id: number): void\n}\nconst appServiceId = 0\nconst initZoom = 10\nconst initCenter = [47.6, -122.3]\nconst isValid = (id: number, idB: number) => id !== idB\nconst AppService: AppServiceI = () => {\n  const messages$: Subject<Message> = new Subject()\n  const centers$: BehaviorSubject<Center> = new BehaviorSubject(\n    { center: initCenter, id: appServiceId },\n  )\n  const zooms$: BehaviorSubject<Zoom> = new BehaviorSubject(\n    { zoom: initZoom, id: appServiceId },\n  )\n  const addMessage: AddMessage = (message, id) => {\n    messages$.next({ message, id })\n  }\n  const addMessageEventListener: AddMessageEventListener = (listener, id) => {\n    const subArgs = [\n      (message: Message) => {\n        listener(message.message)\n      },\n      // eslint-disable-next-line no-console\n      console.log,\n      () => { // eslint-disable-next-line no-console\n        console.log('Completed: ', id)\n      }]\n    messages$.subscribe(...subArgs)\n  }\n  const addCenterEventListener: AddCenterEventListener = (listener, id) => {\n    centers$.subscribe((center: Center) => {\n      // do not send the center event to the caller\n      if (center.id !== id) {\n        listener(center.center)\n      }\n    },\n    // eslint-disable-next-line no-console\n    console.log,\n    () => {\n      // eslint-disable-next-line no-console\n      console.log('Completed: ', id)\n    })\n  }\n  const addCenterStatus: AddCenterStatus = (center, id) => {\n    centers$.next({ center, id })\n  }\n  const addZoomEventListener: AddZoomEventListener = (listener, id) => {\n    zooms$.subscribe((zoom: Zoom) => {\n      if (isValid(id, zoom.id)) {\n        listener(zoom.zoom)\n      }\n    })\n  }\n  const addZoom: AddZoom = (zoom, id) => zooms$.next({ zoom, id })\n  return {\n    addMessageEventListener,\n    addMessage,\n    addCenterEventListener,\n    addCenterStatus,\n    addZoomEventListener,\n    addZoom,\n  }\n}\n\nexport default AppService\n","// Information about Gibs Nasa can be found here:\n// https://wiki.earthdata.nasa.gov/display/GIBS/GIBS+Available+Imagery+Products#expand-CorrectedReflectance17Products\n\nconst gibsProducts: GibsNasa.Products = {\n  multibandImagery: [{\n    description: 'Corrected Reflectance (True Color)',\n    imageLayer: 'MODIS_Terra_CorrectedReflectance_TrueColor',\n    dateRange: ['2003-01-01', 'present'],\n    tileMatrixSets: ['EPSG4326_250m'],\n    format: 'jpg',\n  },\n  {\n    description: 'Corrected Reflectance ',\n    imageLayer: 'VIIRS_SNPP_CorrectedReflectance_TrueColor',\n    dateRange: ['2020-04-25', 'present'],\n    tileMatrixSets: ['EPSG4326_250m'],\n    format: 'jpg',\n  },\n  {\n    description: 'Corrected Reflectance (Bands 3-6-7) ',\n    imageLayer: 'MODIS_Terra_CorrectedReflectance_Bands367',\n    dateRange: ['2003-01-01', 'present'],\n    tileMatrixSets: ['EPSG4326_250m'],\n    format: 'jpg',\n  }, {\n    description: 'Corrected Reflectance (Bands 7-2-1) ',\n    imageLayer: 'MODIS_Aqua_CorrectedReflectance_Bands721',\n    dateRange: ['2003-01-01', 'present'],\n    tileMatrixSets: ['EPSG4326_250m'],\n    format: 'jpg',\n  },\n  {\n    description: 'Corrected Reflectance (Bands 7-2-1) ',\n    imageLayer: 'MODIS_Terra_CorrectedReflectance_Bands367',\n    dateRange: ['2003-01-01', 'present'],\n    tileMatrixSets: ['EPSG4326_250m'],\n    format: 'jpg',\n  },\n  ],\n}\nconst getOLSourceOptions = (date: string, gibsProduct: string) => {\n  const sO = {\n    url: `\nhttps://gibs-{a-c}.earthdata.nasa.gov/wmts/epsg3857/best/\n${gibsProduct}/default/\n${date}/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg`,\n    attributions:\n      ['Global Imagery Browse Services <a href=\"https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=2228230\" >(GIBS)</a>'],\n  }\n  return sO\n}\nexport { getOLSourceOptions }\nexport default gibsProducts\n","\nexport default {\n  key: 'info',\n  text: 'Info',\n  // This needs an ariaLabel since it's icon-only\n  ariaLabel: 'Info',\n  iconOnly: true,\n  iconProps: { iconName: 'Info' },\n}\n","// commandItem onClickAction () => {}\n// add an onClick porrop to command Item\nconst infoWithAction = (infoCommandItem, setIsModalOpen) => {\n  Object.assign(\n    infoCommandItem,\n    {\n      onClick: () => setIsModalOpen(true),\n    },\n  )\n}\n\nexport default infoWithAction\n","import React from 'react'\nimport { CommandBar, ICommandBarItemProps } from '@fluentui/react'\n\ninterface IProductSelect {\n  (products: GibsNasa.Products, onProductSelect: GibsNasa.OnProductSelect): ICommandBarItemProps\n}\nconst productSelect: IProductSelect = (products, onProductSelect) => {\n  const items: ICommandBarItemProps[] = []\n  products.multibandImagery.forEach(product => {\n    const item = {\n      key: product.imageLayer,\n      text: product.description,\n      onClick: () => onProductSelect(product),\n    }\n    items.push(item)\n  })\n\n  return {\n    key: 'gibs-products',\n    text: 'Gibs Products',\n    iconProps: { iconName: 'ProductList' },\n    subMenuProps: {\n      items,\n    },\n  }\n}\n\nconst GibsProductSelect: GibsNasa.GibsProductSelect = ({ products, onProductSelect }) => (\n  <section className=\"gibs-product-select\">\n    <CommandBar\n      items={[productSelect(products, onProductSelect)]}\n    />\n  </section>\n)\n\nexport default GibsProductSelect\n","import React from 'react'\nimport './index.css'\n\nconst GibsProductInfo: GibsNasa.GibsProductInfo = ({ product, date }) => (\n  <section className=\"gibs-product-info\">\n    <h5>\n      {product.description}\n    </h5>\n    <ul>\n      <li>\n        <span>\n          Date\n        </span>\n        {date}\n      </li>\n      <li>\n        <span>\n          Date Range\n        </span>\n        {product.dateRange}\n      </li>\n    </ul>\n  </section>\n)\n\nexport default GibsProductInfo\n","import React, { useEffect, useState } from 'react'\nimport { CommandBar, initializeIcons } from '@fluentui/react'\nimport jss from 'jss'\nimport preset from 'jss-preset-default'\nimport style from '../style/main-style'\nimport GibsMap from './GibsMap'\nimport InfoModal from './InfoModal'\nimport AppService, { AppServiceInstanceI } from '../app-service'\nimport gibsProducts, { getOLSourceOptions } from './Gibs'\nimport {\n  infoCommandItem,\n  infoWithAction,\n} from '../command-items'\nimport { CalendarButtonExample } from './DatePicker'\nimport GibsProductSelect from './GibsProductSelect'\nimport GibsProductInfo from './GibsProductInfo'\n\ninitializeIcons()\njss.setup(preset())\nconst sheet = jss.createStyleSheet(style)\nsheet.attach()\nconst applicationService: AppServiceInstanceI = AppService()\n\nfunction App() {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  infoWithAction(infoCommandItem, setIsModalOpen)\n  const intiGibsProduct: GibsNasa.Product = gibsProducts.multibandImagery[0]\n  const [gibsProduct, setGibsProduct] = useState<GibsNasa.Product>(intiGibsProduct)\n  const [gibsDate, setGibsDate] = useState<string>(intiGibsProduct.dateRange[0])\n  const [\n    sourceOptions,\n    setSourceOptions] = useState(getOLSourceOptions(gibsDate, intiGibsProduct.imageLayer))\n  useEffect(() => {\n    setSourceOptions(getOLSourceOptions(gibsDate, gibsProduct.imageLayer))\n  }, [gibsProduct, gibsDate])\n\n  return (\n    <>\n      <section className={sheet.classes.mainContainer}>\n        <GibsMap\n          id={10}\n          sourceOptions={sourceOptions}\n          appService={applicationService}\n        />\n        <div className=\"control-frame\">\n          <h3>ViewGibs</h3>\n          <GibsProductInfo\n            product={gibsProduct}\n            date={gibsDate}\n          />\n          <GibsProductSelect\n            products={gibsProducts}\n            onProductSelect={product => {\n              setGibsProduct(product)\n            }}\n          />\n          <CalendarButtonExample\n            onDateSelect={(date: string) => {\n              setGibsDate(date)\n            }}\n          />\n          <InfoModal\n            setIsModalOpen={setIsModalOpen}\n            isModalOpen={isModalOpen}\n          />\n          <CommandBar\n            items={[infoCommandItem]}\n            ariaLabel=\"Use left and right arrow keys to navigate between commands\"\n          />\n        </div>\n      </section>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}